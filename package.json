{
  "name": "lingtex",
  "displayName": "LingTeX",
  "description": "Linguistics authoring helpers for LaTeX (works with LaTeX Workshop & LaTeX Utilities).",
  "version": "0.0.1",
  "publisher": "rulingAnts",
  "repository": {
    "type": "git",
    "url": "https://github.com/rulingAnts/LingTeX.git"
  },
  "license": "AGPL-3.0-only",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "main": "./dist/extension.js",
  "activationEvents": [
    "onStartupFinished",
    "onViewContainer:lingtex"
  ],
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "lingtex",
          "title": "LingTeX",
          "icon": "resources/lingteX-icon-sidebar.svg"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "lingtex.panel",
        "contents": "# LingTeX\nLoading panel… If this message persists, please reload the window (Developer: Reload Window)."
      }
    ],
    "views": {
      "lingtex": [
        {
          "id": "lingtex.panel",
          "name": "LingTeX Panel",
          "type": "webview",
          "icon": "resources/lingtex-icon.svg"
        }
      ]
    },
    "commands": [
      {
        "command": "lingtex.convertExcelToTabularx",
        "title": "LingTeX: Convert Excel → LaTeX tabularx"
      },
      {
        "command": "lingtex.convertXLingPaperXmlToExcel",
        "title": "LingTeX: Convert XLingPaper XML → Excel"
      },
      {
        "command": "lingtex.tsvToTabularx",
        "title": "LingTeX: TSV → LaTeX tabularx"
      },
      {
        "command": "lingtex.acceptTsvToTabularx",
        "title": "Generate Tabularx",
        "icon": "$(check)"
      },
      {
        "command": "lingtex.cancelTsvToTabularx",
        "title": "Cancel",
        "icon": "$(close)"
      },
      {
        "command": "lingtex.tsvToInterlinear",
        "title": "LingTeX: TSV → Interlinear (gb4e)"
      },
      {
        "command": "lingtex.acceptTsvToInterlinear",
        "title": "Generate Interlinear",
        "icon": "$(check)"
      },
      {
        "command": "lingtex.cancelTsvToInterlinear",
        "title": "Cancel",
        "icon": "$(close)"
      },
      {
        "command": "lingtex.tabularxToExcel",
        "title": "LingTeX: LaTeX tabularx → Excel"
      },
      {
        "command": "lingtex.findMissingGlosses",
        "title": "LingTeX: Find Missing Glosses"
      },
      {
        "command": "lingtex.sanitizeIntro",
        "title": "LingTeX: Sanitize Intro Sections"
      },
      {
        "command": "lingtex.splitSections",
        "title": "LingTeX: Split Sections"
      }
    ],
    "menus": {
      "commandPalette": [
        { "command": "lingtex.convertExcelToTabularx", "when": "false" },
        { "command": "lingtex.convertXLingPaperXmlToExcel", "when": "false" },
        { "command": "lingtex.tsvToTabularx", "when": "false" },
        { "command": "lingtex.acceptTsvToTabularx", "when": "false" },
        { "command": "lingtex.cancelTsvToTabularx", "when": "false" },
        { "command": "lingtex.tsvToInterlinear", "when": "false" },
        { "command": "lingtex.acceptTsvToInterlinear", "when": "false" },
        { "command": "lingtex.cancelTsvToInterlinear", "when": "false" },
        { "command": "lingtex.tabularxToExcel", "when": "false" },
        { "command": "lingtex.findMissingGlosses", "when": "false" },
        { "command": "lingtex.sanitizeIntro", "when": "false" },
        { "command": "lingtex.splitSections", "when": "false" }
      ],
      "editor/title": [
        {
          "command": "lingtex.acceptTsvToTabularx",
          "group": "navigation",
          "when": "lingtex.tsvTabularxTemplateOpen"
        },
        {
          "command": "lingtex.cancelTsvToTabularx",
          "group": "navigation",
          "when": "lingtex.tsvTabularxTemplateOpen"
        },
        {
          "command": "lingtex.acceptTsvToInterlinear",
          "group": "navigation",
          "when": "lingtex.tsvInterlinearTemplateOpen"
        },
        {
          "command": "lingtex.cancelTsvToInterlinear",
          "group": "navigation",
          "when": "lingtex.tsvInterlinearTemplateOpen"
        }
      ]
    },
    "configuration": {
      "title": "LingTeX",
      "properties": {
        "lingtex.tables.outputDir": {
          "type": "string",
          "default": "${workspaceFolder}/misc/tables",
          "description": "Default output directory for generated LaTeX tables."
        },
        "lingtex.figure.outputDir": {
          "type": "string",
          "default": "${workspaceFolder}/misc/figures",
          "description": "Default output directory for imported figure images saved into the workspace."
        },
        "lingtex.excel.outputLocation": {
          "type": "string",
          "enum": [
            "downloads",
            "documents",
            "workspace",
            "prompt"
          ],
          "default": "downloads",
          "description": "Where to save Excel files: Downloads, Documents, Workspace (next to source), or Prompt to choose each time."
        },
        "lingtex.excel.filenameTemplate": {
          "type": "string",
          "default": "${basename}-${date}-${time}",
          "description": "Template for Excel filenames. Supports ${basename}, ${date} (YYYYMMDD), ${time} (HHmmss). Extension is added automatically."
        },
        "lingtex.interlinear.outputMode": {
          "type": "string",
          "enum": [
            "insert",
            "clipboard",
            "prompt"
          ],
          "default": "insert",
          "description": "Where to send generated interlinear: insert at cursor, copy to clipboard, or prompt each time."
        },
        "lingtex.interlinear.beforeSkip": {
          "type": "string",
          "enum": ["none", "smallskip", "medskip", "bigskip"],
          "default": "smallskip",
          "description": "Vertical spacing before the free translation within an example."
        },
        "lingtex.interlinear.afterSkip": {
          "type": "string",
          "enum": ["none", "smallskip", "medskip", "bigskip"],
          "default": "medskip",
          "description": "Vertical spacing after the free translation (also separates examples)."
        },
        "lingtex.interlinear.useOpenup": {
          "type": "boolean",
          "default": true,
          "description": "Apply \\openup within the gloss block to increase spacing that also affects wrapped lines."
        },
        "lingtex.interlinear.openupGlossAmount": {
          "type": "string",
          "default": "1em",
          "description": "Amount passed to \\openup before gloss lines (e.g., 1em or 6pt)."
        },
        "lingtex.interlinear.openupBeforeTranslationAmount": {
          "type": "string",
          "default": "-0.5em",
          "description": "Amount passed to \\openup right before the translation (e.g., -0.5em)."
        },
        "lingtex.interlinear.openupAfterTranslationAmount": {
          "type": "string",
          "default": "-0.5em",
          "description": "Amount passed to \\openup immediately after the translation line (e.g., -0.5em)."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run bundle",
    "clean": "rm -rf dist",
    "build": "npm run clean && tsc -p .",
    "watch": "tsc -w -p .",
    "lint": "echo 'No lint configured'",
    "test": "echo 'No tests yet'",
    "bundle": "npm run clean && esbuild src/extension.ts --bundle --external:vscode --platform=node --format=cjs --sourcemap --minify --outfile=dist/extension.js --target=node18",
    "package": "npx @vscode/vsce package"
  },
  "devDependencies": {
    "@types/node": "^20.11.0",
    "@types/vscode": "1.85.0",
    "esbuild": "^0.27.2",
    "typescript": "^5.6.3"
  },
  "dependencies": {
    "@xmldom/xmldom": "^0.9.0",
    "exceljs": "^4.4.0"
  }
}
